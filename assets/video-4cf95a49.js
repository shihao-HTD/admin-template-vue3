const d=Vue.defineComponent({__name:"VideoPlayer",props:{options:{},slots:{}},emits:["init"],setup(i,{emit:u}){const s=i,a=Vue.ref(),t=Vue.shallowRef(),e=Vue.shallowRef(),l=u,c={fluid:!0,aspectRatio:"16:9",autoplay:!1,controls:!0,playbackRates:[.5,1,1.5,2,2.5,3],muted:!1,loop:!1};return Vue.watch(()=>s.options,o=>{if(e.value){e.value.pause(),e.value.dispose();const n=document.createElement("video");n.className="video-js",a.value.appendChild(n),t.value=n,e.value=videojs(t.value,Object.assign(c,o)),l("init",e.value)}}),Vue.watch(()=>{var o;return(o=s.options)==null?void 0:o.sources},o=>{var n,p,r;e.value&&(e.value.pause(),(n=e.value)==null||n.reset(),(p=e.value)==null||p.src(o),(r=e.value)==null||r.load())},{deep:!0}),Vue.onMounted(()=>{t.value&&(e.value=videojs(t.value,Object.assign(c,s.options)),l("init",e.value))}),Vue.onBeforeUnmount(()=>{var o;e.value&&((o=e.value)==null||o.dispose())}),(o,n)=>(Vue.openBlock(),Vue.createElementBlock("div",{ref_key:"videoRef",ref:a},[Vue.createElementVNode("video",{ref_key:"playerRef",ref:t,class:"video-js"},null,512)],512))}});const v={class:"pt-2"},m=Vue.defineComponent({__name:"video",setup(i){const u=Vue.ref({sources:[{src:"https://toimc-online.static.toimc.com/vue-toimc-admin/video/001.mp4",type:"video/mp4"}]}),s=()=>{u.value.sources=[{src:"https://toimc-online.static.toimc.com/vue-toimc-admin/video/002.mp4",type:"video/mp4"}]};return(a,t)=>{const e=Vue.resolveComponent("el-button");return Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[Vue.createVNode(d,{options:Vue.unref(u)},null,8,["options"]),Vue.createElementVNode("div",v,[Vue.createVNode(e,{type:"primary",onClick:s},{default:Vue.withCtx(()=>t[0]||(t[0]=[Vue.createTextVNode("ChangeSource")])),_:1})])],64)}}});export{m as default};
