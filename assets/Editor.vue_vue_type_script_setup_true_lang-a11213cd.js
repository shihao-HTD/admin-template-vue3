import{g as p}from"./index-ef8b8a62.js";const h=Vue.defineComponent({__name:"Editor",props:Vue.mergeModels({options:{}},{modelValue:{},modelModifiers:{}}),emits:Vue.mergeModels(["init"],["update:modelValue"]),setup(i,{emit:f}){const r=i,s=Vue.ref(),t=Vue.shallowRef(),m={rtl:!1,mode:"ir",value:"",debugger:!1,typewriterMode:!1,height:"auto",minHeight:400,width:"auto",placeholder:"",fullscreen:{index:90},counter:{enable:!1,type:"markdown"},link:{isOpen:!0},image:{isPreview:!0},cache:{enable:!0,id:Math.random().toString(16).slice(2)},lang:"zh_CN",theme:"classic",icon:"ant",cdn:"https://unpkg.com/vditor@3.9.6"},o=Vue.useModel(i,"modelValue"),l=Vue.ref(""),v=f;Vue.watch(o,e=>{t.value&&e&&`${e}`!==t.value.getValue()&&t.value.setValue(e+"")});const V=p(e=>{var u,n;t.value&&(l.value=((u=t.value)==null?void 0:u.getValue())||"",(n=t.value)==null||n.destroy(),c(e))},100);Vue.watch(()=>r.options,V,{deep:!0});function c(e){const u=e.after,n=e.input,a=new Vditor(s.value,Object.assign(m,{...e,after(){u&&u(),l.value&&a.setValue(l.value,!0),o.value=a.getValue()},input(d){n&&n(d),o.value=d}}));return t.value=a,o.value=e.value||"",a}return Vue.onMounted(()=>{c(r.options),v("init",t.value)}),Vue.onBeforeMount(()=>{t.value&&t.value.destroy()}),(e,u)=>(Vue.openBlock(),Vue.createElementBlock("div",{ref_key:"editorRef",ref:s},null,512))}});export{h as _};
